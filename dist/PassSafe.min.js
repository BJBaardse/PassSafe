/*! PassSafe built on 14-11-2013 https://github.com/psi-4ward/PassSafe */
function supports_html5_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(){angular.module("PassSafe").controller("PassSafeCtrl",["$scope","Passwords","$element","$timeout",function(a,b,c,d){a.decrypted=!1,a.passwordList=[],a.passwd="",a.createNew=!b.isEmpty(),a.create=function(){a.createNew=!1,a.decrypted=!0},a.decrypt=function(){try{a.passwordList=b.load(a.passwd),a.decrypt_error=!1,a.decrypted=!0}catch(c){a.decrypt_error=c.message+". Probably you typed a wrong password."}},a.add=function(){a.passwordList.unshift({}),d(function(){a.$broadcast("add",a.passwordList[0])})},a.changePassword=function(){$("#changePasswordModal").modal("hide"),a.passwd=a.newPasswd,a.save()},a.save=function(){b.save(a.passwd,a.passwordList)}}])},{}],2:[function(){angular.module("PassSafe").controller("PasswordCtrl",["$scope","$element","$timeout",function(a,b,c){a.editing=!1,a.toggleEditing=function(d){a.editing="undefined"!=typeof d?d:!a.editing,a.editing&&c(function(){b.find("input:first").focus()})},a.endEditOnEnter=function(b){13==b.keyCode&&(b.preventDefault(),a.toggleEditing(!1)),9==b.keyCode&&jQuery(b.target).hasClass("pass")&&(a.toggleEditing(!1),b.preventDefault(),a.add())},a.remove=function(){var b=a.passwordList.indexOf(a.item);return 0>b?alert("Error: Item not found!"):(a.passwordList.splice(b,1),void 0)},a.$on("add",function(b,c){c==a.item&&a.toggleEditing(!0)})}])},{}],3:[function(a,b){b.exports=function(){return{restrict:"A",scope:!0,require:"ngModel",link:function(a,b,c,d){var e=function(){var b=a.$eval(c.ngModel),d=a.$eval(c.passwordMatch);return b==d};a.$watch(e,function(a){d.$setValidity("unique",a)})}}}},{}],4:[function(a){window.sjcl=a("../vendor/sjcl.js");var b=a("../vendor/base64.js");"function"!=typeof window.atob&&(window.atob=b.atob,window.btoa=b.btoa),angular.module("PassSafe").provider("Passwords",function(){var a=function(){return alert("Please provide an adapter!"),""},b=function(){alert("Please provide an adapter!")};this.setLoader=function(b){a=b},this.setSaver=function(a){b=a},this.$get=function(){return{isEmpty:function(){return a().length>1},load:function(b){var c=a();return c.length>1?angular.fromJson(sjcl.decrypt(b,atob(c))):[]},save:function(a,c){c=angular.copy(c),b(btoa(sjcl.encrypt(a,angular.toJson(c))))}}}})},{"../vendor/base64.js":6,"../vendor/sjcl.js":7}],5:[function(a){a("../vendor/ui.validate.js"),angular.module("PassSafe",["ui.validate"]).directive("passwordMatch",a("./PasswordMatchDirective.js")),a("./PasswordsProvider.js"),a("./PassSafeCtrl.js"),a("./PasswordCtrl.js")},{"../vendor/ui.validate.js":8,"./PassSafeCtrl.js":1,"./PasswordCtrl.js":2,"./PasswordMatchDirective.js":3,"./PasswordsProvider.js":4}],6:[function(a,b,c){!function(){function a(a){this.message=a}var b="undefined"!=typeof c?c:this,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",b.btoa||(b.btoa=function(b){for(var c,e,f=0,g=d,h="";b.charAt(0|f)||(g="=",f%1);h+=g.charAt(63&c>>8-f%1*8)){if(e=b.charCodeAt(f+=.75),e>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|e}return h}),b.atob||(b.atob=function(b){if(b=b.replace(/=+$/,""),b.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,e,f=0,g=0,h="";e=b.charAt(g++);~e&&(c=f%4?64*c+e:e,f++%4)?h+=String.fromCharCode(255&c>>(-2*f&6)):0)e=d.indexOf(e);return h})}()},{}],7:[function(a,b){"use strict";function c(a){throw a}function d(a,b,d){4!==b.length&&c(new k.exception.invalid("invalid aes block size"));var e=a.a[d],f=b[0]^e[0],g=b[d?3:1]^e[1],h=b[2]^e[2];b=b[d?1:3]^e[3];var i,j,l,m,n=e.length/4-2,o=4,p=[0,0,0,0];i=a.j[d],a=i[0];var q=i[1],r=i[2],s=i[3],t=i[4];for(m=0;n>m;m++)i=a[f>>>24]^q[g>>16&255]^r[h>>8&255]^s[255&b]^e[o],j=a[g>>>24]^q[h>>16&255]^r[b>>8&255]^s[255&f]^e[o+1],l=a[h>>>24]^q[b>>16&255]^r[f>>8&255]^s[255&g]^e[o+2],b=a[b>>>24]^q[f>>16&255]^r[g>>8&255]^s[255&h]^e[o+3],o+=4,f=i,g=j,h=l;for(m=0;4>m;m++)p[d?3&-m:m]=t[f>>>24]<<24^t[g>>16&255]<<16^t[h>>8&255]<<8^t[255&b]^e[o++],i=f,f=g,g=h,h=b,b=i;return p}function e(a,b){var c,d,e,f=b.slice(0),g=a.q,h=a.a,i=g[0],j=g[1],k=g[2],l=g[3],m=g[4],n=g[5],o=g[6],p=g[7];for(c=0;64>c;c++)16>c?d=f[c]:(d=f[c+1&15],e=f[c+14&15],d=f[15&c]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+f[15&c]+f[c+9&15]|0),d=d+p+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(o^m&(n^o))+h[c],p=o,o=n,n=m,m=l+d|0,l=k,k=j,j=i,i=d+(j&k^l&(j^k))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;g[0]=g[0]+i|0,g[1]=g[1]+j|0,g[2]=g[2]+k|0,g[3]=g[3]+l|0,g[4]=g[4]+m|0,g[5]=g[5]+n|0,g[6]=g[6]+o|0,g[7]=g[7]+p|0}function f(a,b){var c,d=k.random.z[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function g(a){a.a=h(a).concat(h(a)),a.A=new k.cipher.aes(a.a)}function h(a){for(var b=0;4>b&&(a.e[b]=a.e[b]+1|0,!a.e[b]);b++);return a.A.encrypt(a.e)}var i=void 0,j=!1,k={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};"undefined"!=typeof b&&b.exports&&(b.exports=k),k.cipher.aes=function(a){this.j[0][0][0]||this.D();var b,d,e,f,g=this.j[0][4],h=this.j[1];b=a.length;var i=1;for(4!==b&&6!==b&&8!==b&&c(new k.exception.invalid("invalid aes key size")),this.a=[e=a.slice(0),f=[]],a=b;4*b+28>a;a++)d=e[a-1],(0===a%b||8===b&&4===a%b)&&(d=g[d>>>24]<<24^g[d>>16&255]<<16^g[d>>8&255]<<8^g[255&d],0===a%b&&(d=d<<8^d>>>24^i<<24,i=i<<1^283*(i>>7))),e[a]=e[a-b]^d;for(b=0;a;b++,a--)d=e[3&b?a:a-4],f[b]=4>=a||4>b?d:h[0][g[d>>>24]]^h[1][g[d>>16&255]]^h[2][g[d>>8&255]]^h[3][g[255&d]]},k.cipher.aes.prototype={encrypt:function(a){return d(this,a,0)},decrypt:function(a){return d(this,a,1)},j:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var a,b,c,d,e,f,g,h=this.j[0],i=this.j[1],j=h[4],k=i[4],l=[],m=[];for(a=0;256>a;a++)m[(l[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!j[b];b^=d||1,c=m[c]||1)for(f=c^c<<1^c<<2^c<<3^c<<4,f=f>>8^255&f^99,j[b]=f,k[f]=b,e=l[a=l[d=l[b]]],g=16843009*e^65537*a^257*d^16843008*b,e=257*l[f]^16843008*f,a=0;4>a;a++)h[a][b]=e=e<<24^e>>>8,i[a][f]=g=g<<24^g>>>8;for(a=0;5>a;a++)h[a]=h[a].slice(0),i[a]=i[a].slice(0)}},k.bitArray={bitSlice:function(a,b,c){return a=k.bitArray.O(a.slice(b/32),32-(31&b)).slice(1),c===i?a:k.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return(-32&(b+c-1^b)?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=k.bitArray.getPartial(c);return 32===d?a.concat(b):k.bitArray.O(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+k.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;return b&=31,c>0&&b&&(a[c-1]=k.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(k.bitArray.bitLength(a)!==k.bitArray.bitLength(b))return j;var c,d=0;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},O:function(a,b,c,d){var e;for(e=0,d===i&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return e=a.length?a[a.length-1]:0,a=k.bitArray.getPartial(e),d.push(k.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1)),d},k:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},k.codec.utf8String={fromBits:function(a){var b,c,d="",e=k.bitArray.bitLength(a);for(b=0;e/8>b;b++)0===(3&b)&&(c=a[b/4]),d+=String.fromCharCode(c>>>24),c<<=8;return decodeURIComponent(escape(d))},toBits:function(a){a=unescape(encodeURIComponent(a));var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),3===(3&b)&&(c.push(d),d=0);return 3&b&&c.push(k.bitArray.partial(8*(3&b),d)),c}},k.codec.hex={fromBits:function(a){var b,c="";for(b=0;b<a.length;b++)c+=((0|a[b])+0xf00000000000).toString(16).substr(4);return c.substr(0,k.bitArray.bitLength(a)/4)},toBits:function(a){var b,c,d=[];for(a=a.replace(/\s|0x/g,""),c=a.length,a+="00000000",b=0;b<a.length;b+=8)d.push(0^parseInt(a.substr(b,8),16));return k.bitArray.clamp(d,4*c)}},k.codec.base64={I:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=k.codec.base64.I,g=0,h=k.bitArray.bitLength(a);for(c&&(f=f.substr(0,62)+"-_"),c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;3&d.length&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var d,e,f=[],g=0,h=k.codec.base64.I,i=0;for(b&&(h=h.substr(0,62)+"-_"),d=0;d<a.length;d++)e=h.indexOf(a.charAt(d)),0>e&&c(new k.exception.invalid("this isn't base64!")),g>26?(g-=26,f.push(i^e>>>g),i=e<<32-g):(g+=6,i^=e<<32-g);return 56&g&&f.push(k.bitArray.partial(56&g,i,1)),f}},k.codec.base64url={fromBits:function(a){return k.codec.base64.fromBits(a,1,1)},toBits:function(a){return k.codec.base64.toBits(a,1)}},k.hash.sha256=function(a){this.a[0]||this.D(),a?(this.q=a.q.slice(0),this.m=a.m.slice(0),this.g=a.g):this.reset()},k.hash.sha256.hash=function(a){return(new k.hash.sha256).update(a).finalize()},k.hash.sha256.prototype={blockSize:512,reset:function(){return this.q=this.M.slice(0),this.m=[],this.g=0,this},update:function(a){"string"==typeof a&&(a=k.codec.utf8String.toBits(a));var b,c=this.m=k.bitArray.concat(this.m,a);for(b=this.g,a=this.g=b+k.bitArray.bitLength(a),b=512+b&-512;a>=b;b+=512)e(this,c.splice(0,16));return this},finalize:function(){var a,b=this.m,c=this.q,b=k.bitArray.concat(b,[k.bitArray.partial(1,1)]);for(a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this.g/4294967296)),b.push(0|this.g);b.length;)e(this,b.splice(0,16));return this.reset(),c},M:[],a:[],D:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var b,c=0,d=2;a:for(;64>c;d++){for(b=2;d>=b*b;b++)if(0===d%b)continue a;8>c&&(this.M[c]=a(Math.pow(d,.5))),this.a[c]=a(Math.pow(d,1/3)),c++}}},k.mode.ccm={name:"ccm",encrypt:function(a,b,d,e,f){var g,h=b.slice(0),i=k.bitArray,j=i.bitLength(d)/8,l=i.bitLength(h)/8;for(f=f||64,e=e||[],7>j&&c(new k.exception.invalid("ccm: iv must be at least 7 bytes")),g=2;4>g&&l>>>8*g;g++);return 15-j>g&&(g=15-j),d=i.clamp(d,8*(15-g)),b=k.mode.ccm.K(a,b,d,e,f,g),h=k.mode.ccm.n(a,h,d,b,f,g),i.concat(h.data,h.tag)},decrypt:function(a,b,d,e,f){f=f||64,e=e||[];var g=k.bitArray,h=g.bitLength(d)/8,i=g.bitLength(b),j=g.clamp(b,i-f),l=g.bitSlice(b,i-f),i=(i-f)/8;for(7>h&&c(new k.exception.invalid("ccm: iv must be at least 7 bytes")),b=2;4>b&&i>>>8*b;b++);return 15-h>b&&(b=15-h),d=g.clamp(d,8*(15-b)),j=k.mode.ccm.n(a,j,d,l,f,b),a=k.mode.ccm.K(a,j.data,d,e,f,b),g.equal(j.tag,a)||c(new k.exception.corrupt("ccm: tag doesn't match")),j.data},K:function(a,b,d,e,f,g){var h=[],i=k.bitArray,j=i.k;if(f/=8,(f%2||4>f||f>16)&&c(new k.exception.invalid("ccm: invalid tag length")),(4294967295<e.length||4294967295<b.length)&&c(new k.exception.bug("ccm: can't deal with 4GiB or more data")),g=[i.partial(8,(e.length?64:0)|f-2<<2|g-1)],g=i.concat(g,d),g[3]|=i.bitLength(b)/8,g=a.encrypt(g),e.length)for(d=i.bitLength(e)/8,65279>=d?h=[i.partial(16,d)]:4294967295>=d&&(h=i.concat([i.partial(16,65534)],[d])),h=i.concat(h,e),e=0;e<h.length;e+=4)g=a.encrypt(j(g,h.slice(e,e+4).concat([0,0,0])));for(e=0;e<b.length;e+=4)g=a.encrypt(j(g,b.slice(e,e+4).concat([0,0,0])));return i.clamp(g,8*f)},n:function(a,b,c,d,e,f){var g,h=k.bitArray;g=h.k;var i=b.length,j=h.bitLength(b);if(c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4),d=h.bitSlice(g(d,a.encrypt(c)),0,e),!i)return{tag:d,data:[]};for(g=0;i>g;g+=4)c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,j)}}},k.mode.ocb2={name:"ocb2",encrypt:function(a,b,d,e,f,g){128!==k.bitArray.bitLength(d)&&c(new k.exception.invalid("ocb iv must be 128 bits"));var h,i=k.mode.ocb2.G,j=k.bitArray,l=j.k,m=[0,0,0,0];d=i(a.encrypt(d));var n,o=[];for(e=e||[],f=f||64,h=0;h+4<b.length;h+=4)n=b.slice(h,h+4),m=l(m,n),o=o.concat(l(d,a.encrypt(l(d,n)))),d=i(d);return n=b.slice(h),b=j.bitLength(n),h=a.encrypt(l(d,[0,0,0,b])),n=j.clamp(l(n.concat([0,0,0]),h),b),m=l(m,l(n.concat([0,0,0]),h)),m=a.encrypt(l(m,l(d,i(d)))),e.length&&(m=l(m,g?e:k.mode.ocb2.pmac(a,e))),o.concat(j.concat(n,j.clamp(m,f)))},decrypt:function(a,b,d,e,f,g){128!==k.bitArray.bitLength(d)&&c(new k.exception.invalid("ocb iv must be 128 bits")),f=f||64;var h,i,j=k.mode.ocb2.G,l=k.bitArray,m=l.k,n=[0,0,0,0],o=j(a.encrypt(d)),p=k.bitArray.bitLength(b)-f,q=[];for(e=e||[],d=0;p/32>d+4;d+=4)h=m(o,a.decrypt(m(o,b.slice(d,d+4)))),n=m(n,h),q=q.concat(h),o=j(o);return i=p-32*d,h=a.encrypt(m(o,[0,0,0,i])),h=m(h,l.clamp(b.slice(d),i).concat([0,0,0])),n=m(n,h),n=a.encrypt(m(n,m(o,j(o)))),e.length&&(n=m(n,g?e:k.mode.ocb2.pmac(a,e))),l.equal(l.clamp(n,f),l.bitSlice(b,p))||c(new k.exception.corrupt("ocb: tag doesn't match")),q.concat(l.clamp(h,i))},pmac:function(a,b){var c,d=k.mode.ocb2.G,e=k.bitArray,f=e.k,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));return c=b.slice(c),128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0])),g=f(g,c),a.encrypt(f(d(f(h,d(h))),g))},G:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}},k.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);return b=k.bitArray,d=d||[],a=k.mode.gcm.n(!0,a,f,d,c,e||128),b.concat(a.data,a.tag)},decrypt:function(a,b,d,e,f){var g=b.slice(0),h=k.bitArray,i=h.bitLength(g);return f=f||128,e=e||[],i>=f?(b=h.bitSlice(g,i-f),g=h.bitSlice(g,0,i-f)):(b=g,g=[]),a=k.mode.gcm.n(j,a,g,e,d,f),h.equal(a.tag,b)||c(new k.exception.corrupt("gcm: tag doesn't match")),a.data},U:function(a,b){var c,d,e,f,g,h=k.bitArray.k;for(e=[0,0,0,0],f=b.slice(0),c=0;128>c;c++){for((d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f)),g=0!==(1&f[3]),d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]>>>=1,g&&(f[0]^=-520093696)}return e},f:function(a,b,c){var d,e=c.length;for(b=b.slice(0),d=0;e>d;d+=4)b[0]^=4294967295&c[d],b[1]^=4294967295&c[d+1],b[2]^=4294967295&c[d+2],b[3]^=4294967295&c[d+3],b=k.mode.gcm.U(b,a);return b},n:function(a,b,c,d,e,f){var g,h,i,j,l,m,n,o,p=k.bitArray;for(m=c.length,n=p.bitLength(c),o=p.bitLength(d),h=p.bitLength(e),g=b.encrypt([0,0,0,0]),96===h?(e=e.slice(0),e=p.concat(e,[1])):(e=k.mode.gcm.f(g,[0,0,0,0],e),e=k.mode.gcm.f(g,e,[0,0,Math.floor(h/4294967296),4294967295&h])),h=k.mode.gcm.f(g,[0,0,0,0],d),l=e.slice(0),d=h.slice(0),a||(d=k.mode.gcm.f(g,h,c)),j=0;m>j;j+=4)l[3]++,i=b.encrypt(l),c[j]^=i[0],c[j+1]^=i[1],c[j+2]^=i[2],c[j+3]^=i[3];return c=p.clamp(c,n),a&&(d=k.mode.gcm.f(g,h,c)),a=[Math.floor(o/4294967296),4294967295&o,Math.floor(n/4294967296),4294967295&n],d=k.mode.gcm.f(g,d,a),i=b.encrypt(e),d[0]^=i[0],d[1]^=i[1],d[2]^=i[2],d[3]^=i[3],{tag:p.bitSlice(d,0,f),data:c}}},k.misc.hmac=function(a,b){this.L=b=b||k.hash.sha256;var c,d=[[],[]],e=b.prototype.blockSize/32;for(this.o=[new b,new b],a.length>e&&(a=b.hash(a)),c=0;e>c;c++)d[0][c]=909522486^a[c],d[1][c]=1549556828^a[c];this.o[0].update(d[0]),this.o[1].update(d[1])},k.misc.hmac.prototype.encrypt=k.misc.hmac.prototype.mac=function(a){return a=new this.L(this.o[0]).update(a).finalize(),new this.L(this.o[1]).update(a).finalize()},k.misc.pbkdf2=function(a,b,d,e,f){d=d||1e3,(0>e||0>d)&&c(k.exception.invalid("invalid params to pbkdf2")),"string"==typeof a&&(a=k.codec.utf8String.toBits(a)),f=f||k.misc.hmac,a=new f(a);var g,h,i,j,l=[],m=k.bitArray;for(j=1;32*l.length<(e||1);j++){for(f=g=a.encrypt(m.concat(b,[j])),h=1;d>h;h++)for(g=a.encrypt(g),i=0;i<g.length;i++)f[i]^=g[i];l=l.concat(f)}return e&&(l=m.clamp(l,e)),l},k.prng=function(a){this.b=[new k.hash.sha256],this.h=[0],this.F=0,this.t={},this.C=0,this.J={},this.N=this.c=this.i=this.T=0,this.a=[0,0,0,0,0,0,0,0],this.e=[0,0,0,0],this.A=i,this.B=a,this.p=j,this.z={progress:{},seeded:{}},this.l=this.S=0,this.u=1,this.w=2,this.Q=65536,this.H=[0,48,64,96,128,192,256,384,512,768,1024],this.R=3e4,this.P=80},k.prng.prototype={randomWords:function(a,b){var d,e=[];d=this.isReady(b);var f;if(d===this.l&&c(new k.exception.notReady("generator isn't seeded")),d&this.w){d=!(d&this.u),f=[];var i,j=0;for(this.N=f[0]=(new Date).valueOf()+this.R,i=0;16>i;i++)f.push(4294967296*Math.random()|0);for(i=0;i<this.b.length&&(f=f.concat(this.b[i].finalize()),j+=this.h[i],this.h[i]=0,!(!d&&this.F&1<<i));i++);for(this.F>=1<<this.b.length&&(this.b.push(new k.hash.sha256),this.h.push(0)),this.c-=j,j>this.i&&(this.i=j),this.F++,this.a=k.hash.sha256.hash(this.a.concat(f)),this.A=new k.cipher.aes(this.a),d=0;4>d&&(this.e[d]=this.e[d]+1|0,!this.e[d]);d++);}for(d=0;a>d;d+=4)0===(d+1)%this.Q&&g(this),f=h(this),e.push(f[0],f[1],f[2],f[3]);return g(this),e.slice(0,a)},setDefaultParanoia:function(a){this.B=a},addEntropy:function(a,b,d){d=d||"user";var e,g,h=(new Date).valueOf(),j=this.t[d],l=this.isReady(),m=0;switch(e=this.J[d],e===i&&(e=this.J[d]=this.T++),j===i&&(j=this.t[d]=0),this.t[d]=(this.t[d]+1)%this.b.length,typeof a){case"number":b===i&&(b=1),this.b[j].update([e,this.C++,1,b,h,1,0|a]);break;case"object":if(d=Object.prototype.toString.call(a),"[object Uint32Array]"===d){for(g=[],d=0;d<a.length;d++)g.push(a[d]);a=g}else for("[object Array]"!==d&&(m=1),d=0;d<a.length&&!m;d++)"number"!=typeof a[d]&&(m=1);if(!m){if(b===i)for(d=b=0;d<a.length;d++)for(g=a[d];g>0;)b++,g>>>=1;this.b[j].update([e,this.C++,2,b,h,a.length].concat(a))}break;case"string":b===i&&(b=a.length),this.b[j].update([e,this.C++,3,b,h,a.length]),this.b[j].update(a);break;default:m=1}m&&c(new k.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.h[j]+=b,this.c+=b,l===this.l&&(this.isReady()!==this.l&&f("seeded",Math.max(this.i,this.c)),f("progress",this.getProgress()))},isReady:function(a){return a=this.H[a!==i?a:this.B],this.i&&this.i>=a?this.h[0]>this.P&&(new Date).valueOf()>this.N?this.w|this.u:this.u:this.c>=a?this.w|this.l:this.l},getProgress:function(a){return a=this.H[a?a:this.B],this.i>=a?1:this.c>a?1:this.c/a},startCollectors:function(){this.p||(window.addEventListener?(window.addEventListener("load",this.r,j),window.addEventListener("mousemove",this.s,j)):document.attachEvent?(document.attachEvent("onload",this.r),document.attachEvent("onmousemove",this.s)):c(new k.exception.bug("can't attach event")),this.p=!0)},stopCollectors:function(){this.p&&(window.removeEventListener?(window.removeEventListener("load",this.r,j),window.removeEventListener("mousemove",this.s,j)):window.detachEvent&&(window.detachEvent("onload",this.r),window.detachEvent("onmousemove",this.s)),this.p=j)},addEventListener:function(a,b){this.z[a][this.S++]=b},removeEventListener:function(a,b){var c,d,e=this.z[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},s:function(a){k.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},r:function(){k.random.addEntropy((new Date).valueOf(),2,"loadtime")}},k.random=new k.prng(6);try{var l=new Uint32Array(32);crypto.getRandomValues(l),k.random.addEntropy(l,1024,"crypto['getRandomValues']")}catch(m){}k.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,d,e){d=d||{},e=e||{};var f,g=k.json,h=g.d({iv:k.random.randomWords(4,0)},g.defaults);return g.d(h,d),d=h.adata,"string"==typeof h.salt&&(h.salt=k.codec.base64.toBits(h.salt)),"string"==typeof h.iv&&(h.iv=k.codec.base64.toBits(h.iv)),(!k.mode[h.mode]||!k.cipher[h.cipher]||"string"==typeof a&&100>=h.iter||64!==h.ts&&96!==h.ts&&128!==h.ts||128!==h.ks&&192!==h.ks&&256!==h.ks||2>h.iv.length||4<h.iv.length)&&c(new k.exception.invalid("json encrypt: invalid parameters")),"string"==typeof a&&(f=k.misc.cachedPbkdf2(a,h),a=f.key.slice(0,h.ks/32),h.salt=f.salt),"string"==typeof b&&(b=k.codec.utf8String.toBits(b)),"string"==typeof d&&(d=k.codec.utf8String.toBits(d)),f=new k.cipher[h.cipher](a),g.d(e,h),e.key=a,h.ct=k.mode[h.mode].encrypt(f,b,h.iv,d,h.ts),g.encode(h)},decrypt:function(a,b,d,e){d=d||{},e=e||{};var f=k.json;b=f.d(f.d(f.d({},f.defaults),f.decode(b)),d,!0);var g;return d=b.adata,"string"==typeof b.salt&&(b.salt=k.codec.base64.toBits(b.salt)),"string"==typeof b.iv&&(b.iv=k.codec.base64.toBits(b.iv)),(!k.mode[b.mode]||!k.cipher[b.cipher]||"string"==typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)&&c(new k.exception.invalid("json decrypt: invalid parameters")),"string"==typeof a&&(g=k.misc.cachedPbkdf2(a,b),a=g.key.slice(0,b.ks/32),b.salt=g.salt),"string"==typeof d&&(d=k.codec.utf8String.toBits(d)),g=new k.cipher[b.cipher](a),d=k.mode[b.mode].decrypt(g,b.ct,b.iv,d,b.ts),f.d(e,b),e.key=a,k.codec.utf8String.fromBits(d)},encode:function(a){var b,d="{",e="";for(b in a)if(a.hasOwnProperty(b))switch(b.match(/^[a-z0-9]+$/i)||c(new k.exception.invalid("json encode: invalid property name")),d+=e+'"'+b+'":',e=",",typeof a[b]){case"number":case"boolean":d+=a[b];break;case"string":d+='"'+escape(a[b])+'"';break;case"object":d+='"'+k.codec.base64.fromBits(a[b],0)+'"';break;default:c(new k.exception.bug("json encode: unsupported type"))}return d+"}"},decode:function(a){a=a.replace(/\s/g,""),a.match(/^\{.*\}$/)||c(new k.exception.invalid("json decode: this isn't json!")),a=a.replace(/^\{|\}$/g,"").split(/,/);var b,d,e={};for(b=0;b<a.length;b++)(d=a[b].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i))||c(new k.exception.invalid("json decode: this isn't json!")),e[d[2]]=d[3]?parseInt(d[3],10):d[2].match(/^(ct|salt|iv)$/)?k.codec.base64.toBits(d[4]):unescape(d[4]);return e},d:function(a,b,d){if(a===i&&(a={}),b===i)return a;for(var e in b)b.hasOwnProperty(e)&&(d&&a[e]!==i&&a[e]!==b[e]&&c(new k.exception.invalid("required parameter overridden")),a[e]=b[e]);return a},X:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&a[c]!==b[c]&&(d[c]=a[c]);return d},W:function(a,b){var c,d={};for(c=0;c<b.length;c++)a[b[c]]!==i&&(d[b[c]]=a[b[c]]);return d}},k.encrypt=k.json.encrypt,k.decrypt=k.json.decrypt,k.misc.V={},k.misc.cachedPbkdf2=function(a,b){var c,d=k.misc.V;return b=b||{},c=b.iter||1e3,d=d[a]=d[a]||{},c=d[c]=d[c]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):k.random.randomWords(2,0)},d=b.salt===i?c.firstSalt:b.salt,c[d]=c[d]||k.misc.pbkdf2(a,d,b.iter),{key:c[d].slice(0),salt:d.slice(0)}}},{}],8:[function(){angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(b){return angular.isString(b)?(a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})}),void 0):angular.isArray(b)?(angular.forEach(b,function(b){a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})})}),void 0):(angular.isObject(b)&&angular.forEach(b,function(b,c){angular.isString(b)&&a.$watch(b,function(){g[c](d.$modelValue)}),angular.isArray(b)&&angular.forEach(b,function(b){a.$watch(b,function(){g[c](d.$modelValue)})})}),void 0)}var f,g={},h=a.$eval(c.uiValidate);h&&(angular.isString(h)&&(h={validator:h}),angular.forEach(h,function(b,c){f=function(e){var f=a.$eval(b,{$value:e});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){d.$setValidity(c,!0)},function(){d.$setValidity(c,!1)}),e):f?(d.$setValidity(c,!0),e):(d.$setValidity(c,!1),void 0)},g[c]=f,d.$formatters.push(f),d.$parsers.push(f)}),c.uiValidateWatch&&e(a.$eval(c.uiValidateWatch)))}}})},{}]},{},[5]),supports_html5_storage()||(alert("Sorry, your old Browser has no localStorage! Go and get a HTML5 Browser... bye"),document.location.href="http://www.google.de/intl/de/chrome/browser/"),angular.module("PassSafe").config(["PasswordsProvider",function(a){a.setLoader(function(){return localStorage.getItem("PassSafe")||""}),a.setSaver(function(a){localStorage.setItem("PassSafe",a),alert("Ciphertext was saved to your localStorage")})}]);